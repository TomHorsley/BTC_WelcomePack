<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>BTC: For Dogs Bulgaria — Welcome Pack</title>
  <meta name="description" content="Welcome Pack — BTC: For Dogs Bulgaria (mobile-first SPA)" />
  <script>
    // All editable text/content is stored in this single JS constant.
    const CONTENT = {
      siteTitle: "BTC: For Dogs Bulgaria — Welcome Pack",
      contactEmail: "adoptions@example.org",
      contract_pdf: "./docs/August 2025 Contract of Adoption - Break The Chains for Dogs Bulgaria.pdf",
      facebookUrl: "https://www.facebook.com/groups/319985208569097",
      sections: [
        {id: "adopter-contract", title: "Adopter's Contract", image: "./images/contract_icon.jpg", flag: "red", html: `
          <p><strong>VERY IMPORTANT — Adopter's Contract</strong></p>
          <p>Please <strong>Print it, sign it, scan it and return to the email address provided</strong>: <a href="mailto:${'{{email}}'}">${'{{email}}'}</a></p>
          <p><a class="btn-download" href="${'{{pdf}}'}" target="_blank" rel="noopener">Download contract (PDF)</a></p>
        `},
        {id: "what-to-expect", title: "What To Expect", image: "./images/whattoexpect.jpg", flag: "orange", html: `
          <p>What to expect during your rescue journey.</p>
          <p><a class="btn-download" href="whattoexpect.html">What To Expect</a></p>
        `},
        {id: "the-gift-of-time", title: "The Gift of Time", image: "./images/GOT_icon.jpg", flag: "red", html: `
          <p>Please take some time to read this beautifully written piece as it will help both you and your new family member as they settle in to their new home.</p>
          <p><a class="btn-download" href="gift-of-time.html">Read 'The Gift of Time'</a></p>
        `},
        {id: "are-they-house-trained", title: "Are They House Trained?", image: "./images/housetrained.jpg", flag: "green", html: `
          <p>Information about toileting and house training.</p>
          <p><a class="btn-download" href="housetrained.html">Dispel The Myths</a></p>
        `},
        {id: "use-of-crates", title: "Should I Use A Crate?", image: "./images/cages.jpg", flag: "orange", html: `
          <p>The rescue doesn't approve of crate use.</p>
          <p><a class="btn-download" href="crates.html">Find Out Why</a></p>
        `},
        {id: "retractable-leads", title: "Retractable Leads", image: "./images/retractablelead.jpg", flag: "orange", html: `
          <p>Guidance on using retractable leads safely.</p>
          <p><a class="btn-download" href="retractablelead.html">Retractable Leads</a></p>
        `},
        {id: "preparation", title: "Preparation", flag: "red", html: `
          <p>Getting your home ready before arrival.</p>
          <p><a class="btn-download" href="preparation.html">Open full 'Preparation' page</a></p>
        `},
        {id: "the-journey", title: "The Journey", flag: "green", html: `
          <p>Tips for travel and transition.</p>
        `},
        {id: "arrival-day", title: "Arrival Day", flag: "orange", html: `
          <p>What to expect on arrival day and first interactions.</p>
        `},
        {id: "toileting", title: "Toileting", flag: "green", html: `
          <p>Toileting routines and signs to watch for.</p>
        `},
        {id: "your-needs", title: "Your Needs", flag: "green", html: `
          <p>How to care for yourself while settling in a rescue dog.</p>
        `},
        {id: "fear-triggers", title: "Fear Triggers", flag: "orange", html: `
          <p>Common fear triggers and how to reduce them.</p>
        `},
        {id: "meeting-resident-dog", title: "Meeting The Resident Dog", flag: "orange", html: `
          <p>Safe introductions between dogs.</p>
        `},
        {id: "the-garden", title: "The Garden", flag: "green", html: `
          <p>Keeping your garden safe and secure.</p>
        `},
        {id: "diet-and-water", title: "Diet and Water", flag: "green", html: `
          <p>Feeding routine, diet changes and hydration.</p>
        `},
        {id: "bathing-and-grooming", title: "Bathing And Grooming", flag: "green", html: `
          <p>Tips for grooming and bathing your new dog.</p>
        `},
        {id: "toys", title: "Toys", flag: "green", html: `
          <p>Choosing safe toys and rotation ideas.</p>
        `},
        {id: "guests-dog-sitters", title: "Guests & Dog Sitters", flag: "orange", html: `
          <p>Introducing visitors and briefing sitters.</p>
        `},
        {id: "children", title: "Children", flag: "orange", html: `
          <p>Keeping children and dogs safe around each other.</p>
        `},
        {id: "medication", title: "Medication", flag: "green", html: `
          <p>Recording and administering medication.</p>
        `},
        {id: "veterinary-info", title: "Veterinary Information", flag: "green", html: `
          <p>Important vet details and what to bring to appointments.</p>
        `},
        {id: "first-few-days", title: "The First Few Days", flag: "orange", html: `
          <p>Settling-in timeline and expectations for the first few days.</p>
        `},
        {id: "settling-in", title: "Settling In", flag: "orange", html: `
          <p>Longer-term settling strategies and routine building.</p>
        `},
        {id: "safety-first", title: "Safety First", flag: "red", html: `
          <p><strong>DON'T PANIC!!</strong> If your dog is lost, follow the steps here and contact local vets and shelters immediately.</p>
          <p>Checklist: ID, photos, last-seen location, microchip details and local social media.</p>
          <p><a class="btn-download" href="safety-first.html">Open full 'Safety First' page</a></p>
        `},
        {id: "adopting-cat", title: "I'm Adopting A Cat", flag: "green", html: `
          <p>Tips if you're adopting a cat alongside or after a dog.</p>
        `},
        {id: "training-tips", title: "Training Tips", flag: "green", html: `
          <p>Basic training advice and positive reinforcement techniques.</p>
        `},
        {id: "dog-body-language", title: "Dog Body Language", flag: "green", html: `
          <p>Video overview below (responsive embed placeholder).</p>
          <div class="video-wrap"><iframe data-src="https://www.youtube.com/embed/VIDEO_ID" allowfullscreen></iframe></div>
        `},
        {id: "loading-marker", title: "Training - Loading A Marker", flag: "green", html: `
          <p>How to load a marker (clicker/word) for training.</p>
          <div class="video-wrap"><iframe data-src="https://www.youtube.com/embed/VIDEO_ID_2" allowfullscreen></iframe></div>
        `},
        {id: "focus-watch-me", title: "Focus / Watch Me", flag: "green", html: `
          <p>Building attention and focus exercises.</p>
        `},
        {id: "additional-reading", title: "Additional Useful Reading", flag: "green", html: `
          <p>Links and book suggestions for further study.</p>
        `},
      ]
    };
    // inject resolved placeholders
    CONTENT.sections.forEach(s => {
      s.html = s.html.replace(/\{\{email\}\}/g, CONTENT.contactEmail).replace(/\{\{pdf\}\}/g, CONTENT.contract_pdf);
    });
  </script>
  <link rel="stylesheet" href="styles.css">
</head>
<body class="bg-gray-50 text-gray-800">
  <div id="app" class="min-h-screen flex flex-col">
    <header class="sticky top-0 z-40 bg-white border-b border-gray-200 flex items-center justify-between p-3">
      <div class="flex items-center gap-3">
        <button id="menuToggle" aria-label="Open menu" class="md:hidden p-2 rounded border">
          <svg width="24" height="24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/></svg>
        </button>
        <h1 class="text-sm font-semibold">BTC: For Dogs Bulgaria</h1>
      </div>
      <div class="flex items-center gap-3">
        <a class="text-sm text-blue-600" id="facebookLink" href="" target="_blank" aria-label="Join us on Facebook">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="#1877F2" aria-hidden="true" style="vertical-align:middle;width:20px;height:20px;">
            <path d="M22.675 0h-21.35C.595 0 0 .593 0 1.326v21.348C0 23.407.595 24 1.325 24H12.82v-9.294H9.692v-3.622h3.128V8.413c0-3.1 1.894-4.788 4.66-4.788 1.325 0 2.463.099 2.795.143v3.24l-1.918.001c-1.504 0-1.795.715-1.795 1.763v2.312h3.587l-.467 3.622h-3.12V24h6.116C23.405 24 24 23.407 24 22.674V1.326C24 .593 23.405 0 22.675 0z"/>
          </svg>
          <span style="margin-left:8px;vertical-align:middle">Join us on Facebook</span>
        </a>
      </div>
    </header>

    <div class="layout">
      <nav id="sidebar" class="sidebar">
        <div class="p-4">
          <div class="contentsLabel">Contents</div>
          <ul id="navList"></ul>
        </div>
      </nav>

      <main id="main">
        <div id="topHelpAnchor"></div>
        <button id="helpBtn" class="help-btn fixed right-4 top-16 z-50 px-4 py-2 rounded-lg shadow-lg">HELP! I've Lost My Dog</button>

        <div class="content-wrap" id="contentArea">
            <!-- dynamic content -->
          <div class="welcome" style="text-align:center">
            <img src="./images/BTC Logo.png" alt="BTC Logo Image" style="max-width:25%;height:auto;border-radius:10px;margin-bottom:10px;" />
            <h2>WELCOME TO THE BREAK THE CHAINS DOG RESCUING FAMILY.</h2>
            <img src="./images/BTC_BG1.jpg" alt="BTC Welcome Image" style="max-width:100%;height:auto;border-radius:10px;margin-bottom:10px;" />
            <p>We would like to thank you for rescuing your dog with us. All the necessary information can be found in this welcome pack.</p>
            <p><strong>PLEASE READ IT</strong></p>
            <p><strong>An extra word regarding your welcome pack:</strong> Please read this pack carefully - it prevents unnecessary prolonging of the dog's settling-in period.</p>
            <!-- Flag Information Panel -->
          <div class="info-panel">
            <div class="info-row critical">
              <img src="./images/RedFlag.jpg" alt="Red Flag" class="flag-icon">
              <span class="info-text">MUST READ!</span>
            </div>

            <div class="info-row warning">
              <img src="./images/YellowFlag.jpg" alt="Yellow/Orange Flag" class="flag-icon">
              <span class="info-text">SHOULD READ!</span>
            </div>

            <div class="info-row positive">
              <img src="./images/GreenFlag.jpg" alt="Green Flag" class="flag-icon">
              <span class="info-text">Useful Information</span>
            </div>
          </div>
          </div>
          
        </div>
          <h2>Treats For Streets (Shop)</h2>
          <p>Support the charity via the online shop: <a href="#">Treats For Streets</a></p>
      </main>
    </div>
    <footer class="text-center text-xs text-gray-500 p-4">© BTC: For Dogs Bulgaria</footer>
  </div>

  <script>
    // Small utility to build the UI from CONTENT (sort red->orange->green)
    const navList = document.getElementById('navList');
    const contentArea = document.getElementById('contentArea');
    const facebookLink = document.getElementById('facebookLink');
    const sidebar = document.getElementById('sidebar');

    facebookLink.href = CONTENT.facebookUrl;

    function flagClass(flag){
      if(flag==='red') return 'flag-red';
      if(flag==='orange') return 'flag-orange';
      if(flag==='green') return 'flag-green';
      return '';
    }

    // Put welcome (if present) first, then sort remaining sections by flag priority
    const priority = {red:1, orange:2, green:3};
    const welcomeItem = CONTENT.sections.find(s=>s.id==='welcome');
    const others = CONTENT.sections.filter(s=>s.id!=='welcome');
    others.sort((a,b)=> (priority[a.flag]||9) - (priority[b.flag]||9));
    CONTENT.sections = welcomeItem ? [welcomeItem, ...others] : others;

    CONTENT.sections.forEach(sec => {
      // nav
      const li = document.createElement('li');
      const a = document.createElement('a');
      a.href = `#${sec.id}`;
      // only show a small flag dot in the nav if the section has a flag
      const navDot = sec.flag ? `<span aria-hidden class="flag-pill ${flagClass(sec.flag)}" style="width:10px;height:10px;display:inline-block;border-radius:50%"></span>` : '';
      a.innerHTML = `${navDot}<span style="margin-left:8px">${sec.title}</span>`;
      li.appendChild(a);
      navList.appendChild(li);

      // content
      const section = document.createElement('section');
      section.id = sec.id;
      section.className = 'card';
      const pill = sec.flag ? `<span class="flag-pill ${flagClass(sec.flag)}" aria-hidden></span>` : '';
      
      // Add thumbnail layout for all sections except welcome
      if (sec.id !== 'welcome') {
        section.classList.add('with-thumbnail');
        const imageUrl = sec.image || './images/placeholder.jpg';
        section.innerHTML = `<h2>${pill}<span>${sec.title}</span></h2>` +
          `<img src="${imageUrl}" alt="${sec.title}" class="card-thumbnail" />` +
          `<div class="card-content">${sec.html}</div>`;
      } else {
        section.innerHTML = `<h2>${pill}<span>${sec.title}</span></h2>` + sec.html;
      }
      contentArea.appendChild(section);
    });

    // menu toggle: open/close sidebar on mobile
    const menuToggle = document.getElementById('menuToggle');
    menuToggle.addEventListener('click', ()=> sidebar.classList.toggle('open'));

    // nav links scroll and close menu on mobile
    navList.querySelectorAll('a').forEach(a=>{
      a.addEventListener('click', e=>{
        e.preventDefault();
        const id = a.getAttribute('href').slice(1);
        const el = document.getElementById(id);
        if(el) el.scrollIntoView({behavior:'smooth',block:'start'});
        sidebar.classList.remove('open');
      });
    });

    // HELP button scrolls to Safety First section and opens a visual callout
    const helpBtn = document.getElementById('helpBtn');
    helpBtn.addEventListener('click', ()=>{
      const target = document.getElementById('safety-first');
      if(target){
        target.scrollIntoView({behavior:'smooth',block:'center'});
        target.classList.add('callout-dontpanic');
        setTimeout(()=> target.classList.remove('callout-dontpanic'), 5000);
      }
    });

    // Lazy-load YouTube iframes for responsiveness and perf
    function lazyLoadVideos(){
      document.querySelectorAll('.video-wrap iframe').forEach(iframe=>{
        if(iframe.dataset.src && !iframe.src){ iframe.src = iframe.dataset.src; }
      });
    }
    // Defer video loads for performance
    window.addEventListener('load', ()=> setTimeout(lazyLoadVideos, 500));
  </script>
</body>
</html>
